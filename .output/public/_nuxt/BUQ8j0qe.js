import{_ as A}from"./BWVliGJj.js";import{_ as B}from"./BLRN7I0I.js";import{u as L,_ as O}from"./BMcm88wx.js";import{_ as E}from"./nG6B8Cf1.js";import{_ as I}from"./DnFU_lOv.js";import{n as S,p as C,d as M,q as F,c as V,ae as q,D as P,o as s,m as d,x as D,i as k,y,h as l,w as c,v as r,j as v,t as T,F as K,A as W,g as h,z as $,T as H,b as u,I as b}from"./C1Qq1QLd.js";import{b as R,u as G}from"./dCmjBx8L.js";import{_ as J}from"./DlAUqK2U.js";import{_ as Q}from"./Cb2pLvH4.js";import{u as X}from"./Bf5SMuIn.js";import{u as Y}from"./BAzV2P3u.js";const Z={wrapper:"relative inline-flex",container:"z-20 group",width:"max-w-xs",background:"bg-white dark:bg-gray-900",color:"text-gray-900 dark:text-white",shadow:"shadow",rounded:"rounded",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"[@media(pointer:coarse)]:hidden h-6 px-2 py-1 text-xs font-normal truncate relative",shortcuts:"hidden md:inline-flex flex-shrink-0 gap-0.5",middot:"mx-1 text-gray-700 dark:text-gray-200",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},popper:{strategy:"fixed"},default:{openDelay:0,closeDelay:0},arrow:{...R,base:"[@media(pointer:coarse)]:hidden invisible before:visible before:block before:rotate-45 before:z-[-1] before:w-2 before:h-2"}},_=S(C.ui.strategy,C.ui.tooltip,Z),ee=M({components:{UKbd:I},inheritAttrs:!1,props:{text:{type:String,default:null},prevent:{type:Boolean,default:!1},shortcuts:{type:Array,default:()=>[]},openDelay:{type:Number,default:()=>_.default.openDelay},closeDelay:{type:Number,default:()=>_.default.closeDelay},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:n,attrs:m}=G("tooltip",F(e,"ui"),_,F(e,"class")),f=V(()=>q({},e.popper,n.value.popper)),[a,p]=L(f.value),i=P(!1);let o=null,t=null;function w(){t&&(clearTimeout(t),t=null),!i.value&&(o=o||setTimeout(()=>{i.value=!0,o=null},e.openDelay))}function g(){o&&(clearTimeout(o),o=null),i.value&&(t=t||setTimeout(()=>{i.value=!1,t=null},e.closeDelay))}return{ui:n,attrs:m,popper:f,trigger:a,container:p,open:i,onMouseEnter:w,onMouseLeave:g}}});function ae(e,n,m,f,a,p){const i=I;return s(),d("div",$({ref:"trigger",class:e.ui.wrapper},e.attrs,{onMouseenter:n[0]||(n[0]=(...o)=>e.onMouseEnter&&e.onMouseEnter(...o)),onMouseleave:n[1]||(n[1]=(...o)=>e.onMouseLeave&&e.onMouseLeave(...o))}),[D(e.$slots,"default",{open:e.open},()=>[k(" Hover ")]),e.open&&!e.prevent?(s(),d("div",{key:0,ref:"container",class:y([e.ui.container,e.ui.width])},[l(H,$({appear:""},e.ui.transition),{default:c(()=>{var o;return[r("div",null,[e.popper.arrow?(s(),d("div",{key:0,"data-popper-arrow":"",class:y(Object.values(e.ui.arrow))},null,2)):v("",!0),r("div",{class:y([e.ui.base,e.ui.background,e.ui.color,e.ui.rounded,e.ui.shadow,e.ui.ring])},[D(e.$slots,"text",{},()=>[k(T(e.text),1)]),(o=e.shortcuts)!=null&&o.length?(s(),d("span",{key:0,class:y(e.ui.shortcuts)},[r("span",{class:y(e.ui.middot)},"Â·",2),(s(!0),d(K,null,W(e.shortcuts,t=>(s(),h(i,{key:t,size:"xs"},{default:c(()=>[k(T(t),1)]),_:2},1024))),128))],2)):v("",!0)],2)])]}),_:3},16)],2)):v("",!0)],16)}const oe=J(ee,[["render",ae]]),j={folder:"material-symbols:folder","image/jpeg":"material-symbols:image","image/png":"material-symbols:image","image/gif":"material-symbols:image","image/svg+xml":"material-symbols:image","image/webp":"material-symbols:image","video/mp4":"material-symbols:smart-display","video/quicktime":"material-symbols:smart-display","audio/mp3":"material-symbols:audio-file","audio/aac":"material-symbols:audio-file","audio/wav":"material-symbols:audio-file","audio/ogg":"material-symbols:audio-file","text/csv":"material-symbols:csv","text/plain":"material-symbols:text-snippet","application/pdf":"material-symbols:picture-as-pdf-sharp","application/vnd.ms-excel":"material-symbols:sheets","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"material-symbols:sheets","application/msword":"material-symbols:docs","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"material-symbols:docs","application/vnd.ms-powerpoint":"material-symbols:slides","application/vnd.openxmlformats-officedocument.presentationml.presentation":"material-symbols:slides"};function z(e){return!e||typeof e=="string"&&!(e in j)?"material-symbols:attachment":j[e]}const te={class:"flex items-center justify-between w-full gap-2"},ie={class:"flex items-center gap-2"},se={class:"text-xs line-clamp-2"},ne={class:"relative mt-2"},le={key:1,class:"flex items-center justify-center h-full"},re={class:"absolute inset-0 flex flex-col items-center justify-center gap-8 transition-opacity duration-300 bg-white bg-opacity-75 opacity-0 hover:opacity-100 dark:bg-gray-900 dark:bg-opacity-75"},me={class:"flex gap-6"},ke=M({__name:"FileCard",props:{file:{}},setup(e){const n=X(),{fileUrl:m}=Y(),f=a=>[[{label:"Download File",icon:"material-symbols:download",click:()=>{b(m(a.id+"?download"),{external:!0})}},{label:"Open File in New Tab",icon:"material-symbols:tab-new-right-outline",click:()=>{b(m(a.id),{external:!0,open:{target:"_blank"}})}},{label:"Preview Image",icon:"material-symbols:zoom-in"},{label:"Copy Link to File",icon:"material-symbols:link",click:()=>{!a||!a.id||(navigator.clipboard.writeText(m(a.id)??""),n.add({title:"Link Copied",description:"The link to the file has been copied to your clipboard.",icon:"material-symbols:content-copy-outline",color:"green",timeout:3e3}))}}]];return(a,p)=>{const i=A,o=B,t=O,w=E,g=oe,N=Q;return s(),h(N,{class:"h-full",ui:{strategy:"merge",ring:"hover:ring-primary dark:hover:ring-primary",body:{base:"h-full flex flex-col",padding:"p-4 md:p-4"}}},{default:c(()=>{var x;return[r("div",te,[r("div",ie,[l(i,{name:("getFileIcon"in a?a.getFileIcon:u(z))((x=a.file)==null?void 0:x.type),class:"flex-shrink-0 w-6 h-6 text-gray-500"},null,8,["name"]),r("p",se,T(a.file.filename_download),1)]),l(t,{items:f(a.file)},{default:c(()=>[l(o,{icon:"material-symbols:more-vert",variant:"ghost",color:"gray",size:"lg"})]),_:1},8,["items"])]),r("div",ne,[a.file.type.startsWith("image")?(s(),h(w,{key:0,src:a.file.id,alt:a.file.filename_download,class:"object-cover object-center w-full rounded-card aspect-square bg-checkerboard dark:brightness-90"},null,8,["src","alt"])):(s(),d("div",le,[l(i,{name:("getFileIcon"in a?a.getFileIcon:u(z))(a.file.type),class:"w-24 h-24 text-gray-500/30"},null,8,["name"])])),r("div",re,[r("div",me,[a.file.type.startsWith("image")?(s(),h(o,{key:0,icon:"material-symbols:zoom-in-rounded",size:"xl"})):v("",!0),l(g,{text:"Open File in New Tab"},{default:c(()=>[l(o,{icon:"material-symbols:tab-new-right-outline-rounded",size:"xl",onClick:p[0]||(p[0]=U=>("navigateTo"in a?a.navigateTo:u(b))(u(m)(a.file.id),{external:!0,open:{target:"_blank"}}))})]),_:1}),l(g,{text:"Download File"},{default:c(()=>[l(o,{icon:"material-symbols:download-rounded",size:"xl",onClick:p[1]||(p[1]=U=>("navigateTo"in a?a.navigateTo:u(b))(u(m)(a.file.id+"?download"),{external:!0}))})]),_:1})])])])]}),_:1})}}});export{ke as _};
