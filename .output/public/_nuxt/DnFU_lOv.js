import{N as ue,s as de,S as h,I as fe,u as O,o as Q,t as ve,i as p,c as pe,A as Y,l as ce,T as me}from"./jXwMPzuP.js";import{d as z,D as b,ab as Z,c as E,L as S,M as G,O as F,K as ge,aa as _,y as he,ad as M,n as be,p as W,q as ye,r as Se,s as Ee,o as we,m as Te,x as xe,i as Le,t as Fe,z as Ae}from"./C1Qq1QLd.js";import{u as Ce}from"./dCmjBx8L.js";import{_ as $e}from"./DlAUqK2U.js";const ke={base:"inline-flex items-center justify-center text-gray-900 dark:text-white",padding:"px-1",size:{xs:"h-4 min-w-[16px] text-[10px]",sm:"h-5 min-w-[20px] text-[11px]",md:"h-6 min-w-[24px] text-[12px]"},rounded:"rounded",font:"font-medium font-sans",background:"bg-gray-100 dark:bg-gray-800",ring:"ring-1 ring-gray-300 dark:ring-gray-700 ring-inset",default:{size:"sm"}};function Be(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function P(){let e=[],t={addEventListener(n,r,l,a){return n.addEventListener(r,l,a),t.add(()=>n.removeEventListener(r,l,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...n)})},setTimeout(...n){let r=setTimeout(...n);t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Be(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,l){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:l}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=P();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let l of e.splice(r,1))l()}},dispose(){for(let n of e.splice(0))n()}};return t}function Oe(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function k(e,...t){e&&t.length>0&&e.classList.add(...t)}function L(e,...t){e&&t.length>0&&e.classList.remove(...t)}var j=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(j||{});function _e(e,t){let n=P();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:l}=getComputedStyle(e),[a,i]=[r,l].map(s=>{let[o=0]=s.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,d)=>d-u);return o});return a!==0?n.setTimeout(()=>t("finished"),a+i):t("finished"),n.add(()=>t("cancelled")),n.dispose}function X(e,t,n,r,l,a){let i=P(),s=a!==void 0?Oe(a):()=>{};return L(e,...l),k(e,...t,...n),i.nextFrame(()=>{L(e,...n),k(e,...r),i.add(_e(e,o=>(L(e,...r,...t),k(e,...l),s(o))))}),i.add(()=>L(e,...t,...n,...r,...l)),i.add(()=>s("cancelled")),i.dispose}function g(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let q=Symbol("TransitionContext");var je=(e=>(e.Visible="visible",e.Hidden="hidden",e))(je||{});function ze(){return M(q,null)!==null}function Me(){let e=M(q,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Pe(){let e=M(D,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let D=Symbol("NestingContext");function A(e){return"children"in e?A(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function ee(e){let t=b([]),n=b(!1);S(()=>n.value=!0),G(()=>n.value=!1);function r(a,i=h.Hidden){let s=t.value.findIndex(({id:o})=>o===a);s!==-1&&(O(i,{[h.Unmount](){t.value.splice(s,1)},[h.Hidden](){t.value[s].state="hidden"}}),!A(t)&&n.value&&(e==null||e()))}function l(a){let i=t.value.find(({id:s})=>s===a);return i?i.state!=="visible"&&(i.state="visible"):t.value.push({id:a,state:"visible"}),()=>r(a,h.Unmount)}return{children:t,register:l,unregister:r}}let te=ue.RenderStrategy,qe=z({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:l}){let a=b(0);function i(){a.value|=p.Opening,t("beforeEnter")}function s(){a.value&=~p.Opening,t("afterEnter")}function o(){a.value|=p.Closing,t("beforeLeave")}function u(){a.value&=~p.Closing,t("afterLeave")}if(!ze()&&de())return()=>Z(He,{...e,onBeforeEnter:i,onAfterEnter:s,onBeforeLeave:o,onAfterLeave:u},r);let d=b(null),w=E(()=>e.unmount?h.Unmount:h.Hidden);l({el:d,$el:d});let{show:c,appear:H}=Me(),{register:U,unregister:C}=Pe(),f=b(c.value?"visible":"hidden"),N={value:!0},y=fe(),T={value:!1},R=ee(()=>{!T.value&&f.value!=="hidden"&&(f.value="hidden",C(y),u())});S(()=>{let v=U(y);G(v)}),F(()=>{if(w.value===h.Hidden&&y){if(c.value&&f.value!=="visible"){f.value="visible";return}O(f.value,{hidden:()=>C(y),visible:()=>U(y)})}});let V=g(e.enter),I=g(e.enterFrom),ne=g(e.enterTo),J=g(e.entered),re=g(e.leave),ae=g(e.leaveFrom),ie=g(e.leaveTo);S(()=>{F(()=>{if(f.value==="visible"){let v=Q(d);if(v instanceof Comment&&v.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function le(v){let $=N.value&&!H.value,m=Q(d);!m||!(m instanceof HTMLElement)||$||(T.value=!0,c.value&&i(),c.value||o(),v(c.value?X(m,V,I,ne,J,x=>{T.value=!1,x===j.Finished&&s()}):X(m,re,ae,ie,J,x=>{T.value=!1,x===j.Finished&&(A(R)||(f.value="hidden",C(y),u()))})))}return S(()=>{ge([c],(v,$,m)=>{le(m),N.value=!1},{immediate:!0})}),_(D,R),ve(E(()=>O(f.value,{visible:p.Open,hidden:p.Closed})|a.value)),()=>{let{appear:v,show:$,enter:m,enterFrom:x,enterTo:Re,entered:Ve,leave:Ie,leaveFrom:Je,leaveTo:Ke,...K}=e,se={ref:d},oe={...K,...H.value&&c.value&&pe.isServer?{class:he([n.class,K.class,...V,...I])}:{}};return Y({theirProps:oe,ourProps:se,slot:{},slots:r,attrs:n,features:te,visible:f.value==="visible",name:"TransitionChild"})}}}),De=qe,He=z({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){let l=ce(),a=E(()=>e.show===null&&l!==null?(l.value&p.Open)===p.Open:e.show);F(()=>{if(![!0,!1].includes(a.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let i=b(a.value?"visible":"hidden"),s=ee(()=>{i.value="hidden"}),o=b(!0),u={show:a,appear:E(()=>e.appear||!o.value)};return S(()=>{F(()=>{o.value=!1,a.value?i.value="visible":A(s)||(i.value="hidden")})}),_(D,s),_(q,u),()=>{let d=me(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),w={unmount:e.unmount};return Y({ourProps:{...w,as:"template"},theirProps:{},slot:{},slots:{...r,default:()=>[Z(De,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...w,...d},r.default)]},attrs:{},features:te,visible:i.value==="visible",name:"Transition"})}}});const B=be(W.ui.strategy,W.ui.kbd,ke),Ue=z({inheritAttrs:!1,props:{value:{type:String,default:null},size:{type:String,default:()=>B.default.size,validator(e){return Object.keys(B.size).includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:n}=Ce("kbd",ye(e,"ui"),B),r=E(()=>Se(Ee(t.value.base,t.value.size[e.size],t.value.padding,t.value.rounded,t.value.font,t.value.background,t.value.ring),e.class));return{ui:t,attrs:n,kbdClass:r}}});function Ne(e,t,n,r,l,a){return we(),Te("kbd",Ae({class:e.kbdClass},e.attrs),[xe(e.$slots,"default",{},()=>[Le(Fe(e.value),1)])],16)}const Ze=$e(Ue,[["render",Ne]]);export{He as S,Ze as _,qe as h,P as o,Be as t};
