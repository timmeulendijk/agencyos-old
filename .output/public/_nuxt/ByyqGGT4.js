import{_ as Me}from"./BWVliGJj.js";import{_ as Pe}from"./BLRN7I0I.js";import{_ as Ie}from"./D9e1F_hZ.js";import{u as Ae}from"./BsD3NFIs.js";import{d as Y,D as U,c as r,a9 as F,aa as ze,L as ye,K as he,ab as we,F as Oe,M as je,O as Ue,ac as Z,ad as Fe,n as fe,p as N,q as ne,ae as Ne,r as Le,s as ae,af as qe,ag as _e,ah as oe,o as f,g as H,w as D,m as R,y as S,j as $,U as te,x as E,v as I,z as x,h as M,t as le,T as Ee,A as Te,N as We,i as ce,b as A,S as Ge,X as Qe,e as Ke}from"./C1Qq1QLd.js";import{d as Ye,e as Je,l as Xe,n as Ze,u as xe,r as ea,i as aa}from"./BF1h8QGO.js";import{u as K,o as P,t as ta,i as pe,E as la,A as me,T as na,I as Se,l as oa,N as Ce,a as Ve}from"./jXwMPzuP.js";import{w as ia,a as sa,h as ua,f as ra,u as da,O as ca}from"./DQ9UKlTQ.js";import{s as pa,o as B}from"./BV9iaqG7.js";import{p as va,u as fa}from"./BMcm88wx.js";import{f as ma,c as z,u as ba,Y as ga,G as ya}from"./Ba5XwZFk.js";import{U as ha}from"./DWctDv8V.js";import{s as Oa,a as Sa,u as ve,g as ka}from"./dCmjBx8L.js";import{u as wa}from"./D3QtpRVU.js";import{u as Ca}from"./KCR-tHi3.js";import{_ as ke}from"./DlAUqK2U.js";import{_ as Ma}from"./BkkHuSuh.js";import{_ as Ia}from"./CYRz50eo.js";import{_ as Aa}from"./DekjeW-g.js";import{_ as La}from"./wi-U1sct.js";import{_ as Ta}from"./BUQ8j0qe.js";import{_ as Va}from"./yIDA3Pbn.js";import{w as Ra,u as Ba}from"./CDSSNFII.js";import{t as Da}from"./DwdgSWLY.js";import{S as $a,h as Ha}from"./DnFU_lOv.js";const Pa={base:"mx-auto",padding:"px-4 sm:px-6 lg:px-8",constrained:"max-w-7xl"},za={wrapper:"fixed inset-0 flex z-50",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},base:"relative flex-1 flex flex-col w-full focus:outline-none",background:"bg-white dark:bg-gray-900",ring:"",rounded:"",padding:"",shadow:"shadow-xl",width:"w-screen max-w-md",height:"h-screen max-h-96",translate:{base:"translate-x-0",left:"-translate-x-full rtl:translate-x-full",right:"translate-x-full rtl:-translate-x-full",top:"-translate-y-full",bottom:"translate-y-full"},transition:{enter:"transform transition ease-in-out duration-300",leave:"transform transition ease-in-out duration-200"}};function ja(e,c){return e===c}var Ua=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ua||{}),Fa=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Fa||{}),Na=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Na||{});function qa(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Re=Symbol("ListboxContext");function be(e){let c=Fe(Re,null);if(c===null){let d=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(d,be),d}return c}let _a=Y({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ja},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:c,attrs:d,emit:s}){let m=U(1),o=U(null),a=U(null),O=U(null),b=U([]),u=U(""),p=U(null),n=U(1);function t(l=i=>i){let i=p.value!==null?b.value[p.value]:null,v=ca(l(b.value.slice()),k=>P(k.dataRef.domRef)),h=i?v.indexOf(i):null;return h===-1&&(h=null),{options:v,activeOptionIndex:h}}let w=r(()=>e.multiple?1:0),[g,L]=Ye(r(()=>e.modelValue),l=>s("update:modelValue",l),r(()=>e.defaultValue)),j=r(()=>g.value===void 0?K(w.value,{1:[],0:void 0}):g.value),C={listboxState:m,value:j,mode:w,compare(l,i){if(typeof e.by=="string"){let v=e.by;return(l==null?void 0:l[v])===(i==null?void 0:i[v])}return e.by(l,i)},orientation:r(()=>e.horizontal?"horizontal":"vertical"),labelRef:o,buttonRef:a,optionsRef:O,disabled:r(()=>e.disabled),options:b,searchQuery:u,activeOptionIndex:p,activationTrigger:n,closeListbox(){e.disabled||m.value!==1&&(m.value=1,p.value=null)},openListbox(){e.disabled||m.value!==0&&(m.value=0)},goToOption(l,i,v){if(e.disabled||m.value===1)return;let h=t(),k=ma(l===z.Specific?{focus:z.Specific,id:i}:{focus:l},{resolveItems:()=>h.options,resolveActiveIndex:()=>h.activeOptionIndex,resolveId:T=>T.id,resolveDisabled:T=>T.dataRef.disabled});u.value="",p.value=k,n.value=v??1,b.value=h.options},search(l){if(e.disabled||m.value===1)return;let i=u.value!==""?0:1;u.value+=l.toLowerCase();let v=(p.value!==null?b.value.slice(p.value+i).concat(b.value.slice(0,p.value+i)):b.value).find(k=>k.dataRef.textValue.startsWith(u.value)&&!k.dataRef.disabled),h=v?b.value.indexOf(v):-1;h===-1||h===p.value||(p.value=h,n.value=1)},clearSearch(){e.disabled||m.value!==1&&u.value!==""&&(u.value="")},registerOption(l,i){let v=t(h=>[...h,{id:l,dataRef:i}]);b.value=v.options,p.value=v.activeOptionIndex},unregisterOption(l){let i=t(v=>{let h=v.findIndex(k=>k.id===l);return h!==-1&&v.splice(h,1),v});b.value=i.options,p.value=i.activeOptionIndex,n.value=1},theirOnChange(l){e.disabled||L(l)},select(l){e.disabled||L(K(w.value,{0:()=>l,1:()=>{let i=F(C.value.value).slice(),v=F(l),h=i.findIndex(k=>C.compare(v,F(k)));return h===-1?i.push(v):i.splice(h,1),i}}))}};ia([a,O],(l,i)=>{var v;C.closeListbox(),sa(i,ua.Loose)||(l.preventDefault(),(v=P(a))==null||v.focus())},r(()=>m.value===0)),ze(Re,C),ta(r(()=>K(m.value,{0:pe.Open,1:pe.Closed})));let V=r(()=>{var l;return(l=P(a))==null?void 0:l.closest("form")});return ye(()=>{he([V],()=>{if(!V.value||e.defaultValue===void 0)return;function l(){C.theirOnChange(e.defaultValue)}return V.value.addEventListener("reset",l),()=>{var i;(i=V.value)==null||i.removeEventListener("reset",l)}},{immediate:!0})}),()=>{let{name:l,modelValue:i,disabled:v,form:h,...k}=e,T={open:m.value===0,disabled:v,value:j.value};return we(Oe,[...l!=null&&j.value!=null?Je({[l]:j.value}).map(([q,W])=>we(ra,la({features:da.Hidden,key:q,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:h,disabled:v,name:q,value:W}))):[],me({ourProps:{},theirProps:{...d,...na(k,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:T,slots:c,attrs:d,name:"Listbox"})])}}}),Ea=Y({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:c,slots:d,expose:s}){var m;let o=(m=e.id)!=null?m:`headlessui-listbox-button-${Se()}`,a=be("ListboxButton");s({el:a.buttonRef,$el:a.buttonRef});function O(n){switch(n.key){case B.Space:case B.Enter:case B.ArrowDown:n.preventDefault(),a.openListbox(),Z(()=>{var t;(t=P(a.optionsRef))==null||t.focus({preventScroll:!0}),a.value.value||a.goToOption(z.First)});break;case B.ArrowUp:n.preventDefault(),a.openListbox(),Z(()=>{var t;(t=P(a.optionsRef))==null||t.focus({preventScroll:!0}),a.value.value||a.goToOption(z.Last)});break}}function b(n){switch(n.key){case B.Space:n.preventDefault();break}}function u(n){a.disabled.value||(a.listboxState.value===0?(a.closeListbox(),Z(()=>{var t;return(t=P(a.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(n.preventDefault(),a.openListbox(),qa(()=>{var t;return(t=P(a.optionsRef))==null?void 0:t.focus({preventScroll:!0})})))}let p=pa(r(()=>({as:e.as,type:c.type})),a.buttonRef);return()=>{var n,t;let w={open:a.listboxState.value===0,disabled:a.disabled.value,value:a.value.value},{...g}=e,L={ref:a.buttonRef,id:o,type:p.value,"aria-haspopup":"listbox","aria-controls":(n=P(a.optionsRef))==null?void 0:n.id,"aria-expanded":a.listboxState.value===0,"aria-labelledby":a.labelRef.value?[(t=P(a.labelRef))==null?void 0:t.id,o].join(" "):void 0,disabled:a.disabled.value===!0?!0:void 0,onKeydown:O,onKeyup:b,onClick:u};return me({ourProps:L,theirProps:g,slot:w,attrs:c,slots:d,name:"ListboxButton"})}}}),Wa=Y({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:c,slots:d,expose:s}){var m;let o=(m=e.id)!=null?m:`headlessui-listbox-options-${Se()}`,a=be("ListboxOptions"),O=U(null);s({el:a.optionsRef,$el:a.optionsRef});function b(n){switch(O.value&&clearTimeout(O.value),n.key){case B.Space:if(a.searchQuery.value!=="")return n.preventDefault(),n.stopPropagation(),a.search(n.key);case B.Enter:if(n.preventDefault(),n.stopPropagation(),a.activeOptionIndex.value!==null){let t=a.options.value[a.activeOptionIndex.value];a.select(t.dataRef.value)}a.mode.value===0&&(a.closeListbox(),Z(()=>{var t;return(t=P(a.buttonRef))==null?void 0:t.focus({preventScroll:!0})}));break;case K(a.orientation.value,{vertical:B.ArrowDown,horizontal:B.ArrowRight}):return n.preventDefault(),n.stopPropagation(),a.goToOption(z.Next);case K(a.orientation.value,{vertical:B.ArrowUp,horizontal:B.ArrowLeft}):return n.preventDefault(),n.stopPropagation(),a.goToOption(z.Previous);case B.Home:case B.PageUp:return n.preventDefault(),n.stopPropagation(),a.goToOption(z.First);case B.End:case B.PageDown:return n.preventDefault(),n.stopPropagation(),a.goToOption(z.Last);case B.Escape:n.preventDefault(),n.stopPropagation(),a.closeListbox(),Z(()=>{var t;return(t=P(a.buttonRef))==null?void 0:t.focus({preventScroll:!0})});break;case B.Tab:n.preventDefault(),n.stopPropagation();break;default:n.key.length===1&&(a.search(n.key),O.value=setTimeout(()=>a.clearSearch(),350));break}}let u=oa(),p=r(()=>u!==null?(u.value&pe.Open)===pe.Open:a.listboxState.value===0);return()=>{var n,t;let w={open:a.listboxState.value===0},{...g}=e,L={"aria-activedescendant":a.activeOptionIndex.value===null||(n=a.options.value[a.activeOptionIndex.value])==null?void 0:n.id,"aria-multiselectable":a.mode.value===1?!0:void 0,"aria-labelledby":(t=P(a.buttonRef))==null?void 0:t.id,"aria-orientation":a.orientation.value,id:o,onKeydown:b,role:"listbox",tabIndex:0,ref:a.optionsRef};return me({ourProps:L,theirProps:g,slot:w,attrs:c,slots:d,features:Ce.RenderStrategy|Ce.Static,visible:p.value,name:"ListboxOptions"})}}}),Ga=Y({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:c,attrs:d,expose:s}){var m;let o=(m=e.id)!=null?m:`headlessui-listbox-option-${Se()}`,a=be("ListboxOption"),O=U(null);s({el:O,$el:O});let b=r(()=>a.activeOptionIndex.value!==null?a.options.value[a.activeOptionIndex.value].id===o:!1),u=r(()=>K(a.mode.value,{0:()=>a.compare(F(a.value.value),F(e.value)),1:()=>F(a.value.value).some(l=>a.compare(F(l),F(e.value)))})),p=r(()=>K(a.mode.value,{1:()=>{var l;let i=F(a.value.value);return((l=a.options.value.find(v=>i.some(h=>a.compare(F(h),F(v.dataRef.value)))))==null?void 0:l.id)===o},0:()=>u.value})),n=va(O),t=r(()=>({disabled:e.disabled,value:e.value,get textValue(){return n()},domRef:O}));ye(()=>a.registerOption(o,t)),je(()=>a.unregisterOption(o)),ye(()=>{he([a.listboxState,u],()=>{a.listboxState.value===0&&u.value&&K(a.mode.value,{1:()=>{p.value&&a.goToOption(z.Specific,o)},0:()=>{a.goToOption(z.Specific,o)}})},{immediate:!0})}),Ue(()=>{a.listboxState.value===0&&b.value&&a.activationTrigger.value!==0&&Z(()=>{var l,i;return(i=(l=P(O))==null?void 0:l.scrollIntoView)==null?void 0:i.call(l,{block:"nearest"})})});function w(l){if(e.disabled)return l.preventDefault();a.select(e.value),a.mode.value===0&&(a.closeListbox(),Z(()=>{var i;return(i=P(a.buttonRef))==null?void 0:i.focus({preventScroll:!0})}))}function g(){if(e.disabled)return a.goToOption(z.Nothing);a.goToOption(z.Specific,o)}let L=ba();function j(l){L.update(l)}function C(l){L.wasMoved(l)&&(e.disabled||b.value||a.goToOption(z.Specific,o,0))}function V(l){L.wasMoved(l)&&(e.disabled||b.value&&a.goToOption(z.Nothing))}return()=>{let{disabled:l}=e,i={active:b.value,selected:u.value,disabled:l},{value:v,disabled:h,...k}=e,T={id:o,ref:O,role:"option",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,"aria-selected":u.value,disabled:void 0,onClick:w,onFocus:g,onPointerenter:j,onMouseenter:j,onPointermove:C,onMousemove:C,onPointerleave:V,onMouseleave:V};return me({ourProps:T,theirProps:k,slot:i,attrs:d,slots:c,name:"ListboxOption"})}}});const _=fe(N.ui.strategy,N.ui.select,Oa),de=fe(N.ui.strategy,N.ui.selectMenu,Sa),Qa=Y({components:{HCombobox:Xe,HComboboxButton:Ze,HComboboxOptions:xe,HComboboxOption:ea,HComboboxInput:aa,HListbox:_a,HListboxButton:Ea,HListboxOptions:Wa,HListboxOption:Ga,UIcon:ha,UAvatar:Ie},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>_.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>_.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>de.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:"Search..."},searchableLazy:{type:Boolean,default:!1},clearSearchOnClose:{type:Boolean,default:()=>de.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:[String,Function],default:()=>de.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(_.size).includes(e)}},color:{type:String,default:()=>_.default.color,validator(e){return[...N.ui.colors,...Object.keys(_.color)].includes(e)}},variant:{type:String,default:()=>_.default.variant,validator(e){return[...Object.keys(_.variant),...Object.values(_.color).flatMap(c=>Object.keys(c))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:c,slots:d}){const{ui:s,attrs:m}=ve("select",ne(e,"ui"),_,ne(e,"class")),{ui:o}=ve("selectMenu",ne(e,"uiMenu"),de),a=r(()=>Ne({},e.popper,o.value.popper)),[O,b]=fa(a.value),{size:u,rounded:p}=Ca({ui:s,props:e}),{emitFormBlur:n,emitFormChange:t,inputId:w,color:g,size:L,name:j}=wa(e,_),C=r(()=>u.value??L.value),V=U(""),l=r({get(){return e.query??V.value},set(y){V.value=y,c("update:query",y)}}),i=r(()=>e.multiple?!Array.isArray(e.modelValue)||!e.modelValue.length?[]:e.valueAttribute?G.value.filter(y=>e.modelValue.includes(y[e.valueAttribute])):G.value.filter(y=>e.modelValue.includes(y)):e.valueAttribute?G.value.find(y=>y[e.valueAttribute]===e.modelValue):G.value.find(y=>y===e.modelValue)),v=r(()=>{var y;return e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length?`${i.value.length} selected`:null:e.modelValue!==void 0&&e.modelValue!==null?e.valueAttribute?((y=i.value)==null?void 0:y[e.optionAttribute])??null:["string","number"].includes(typeof e.modelValue)?e.modelValue:e.modelValue[e.optionAttribute]:null}),h=r(()=>{var Q,re;const y=((re=(Q=s.value.color)==null?void 0:Q[g.value])==null?void 0:re[e.variant])||s.value.variant[e.variant];return Le(ae(s.value.base,o.value.select,p.value,s.value.size[C.value],s.value.gap[C.value],e.padded?s.value.padding[C.value]:"p-0",y==null?void 0:y.replaceAll("{color}",g.value),(k.value||d.leading)&&s.value.leading.padding[C.value],(T.value||d.trailing)&&s.value.trailing.padding[C.value]),e.placeholder&&!e.modelValue&&s.value.placeholder,e.selectClass)}),k=r(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),T=r(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),q=r(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),W=r(()=>e.loading&&!k.value?e.loadingIcon:e.trailingIcon||e.icon),J=r(()=>ae(s.value.icon.leading.wrapper,s.value.icon.leading.pointer,s.value.icon.leading.padding[C.value])),ie=r(()=>ae(s.value.icon.base,g.value&&N.ui.colors.includes(g.value)&&s.value.icon.color.replaceAll("{color}",g.value),s.value.icon.size[C.value],e.loading&&s.value.icon.loading)),se=r(()=>ae(s.value.icon.trailing.wrapper,s.value.icon.trailing.pointer,s.value.icon.trailing.padding[C.value])),ue=r(()=>ae(s.value.icon.base,g.value&&N.ui.colors.includes(g.value)&&s.value.icon.color.replaceAll("{color}",g.value),s.value.icon.size[C.value],e.loading&&!k.value&&s.value.icon.loading)),ee=e.searchable&&typeof e.searchable=="function"?qe(e.searchable,e.debounce):void 0,G=_e(async()=>ee?await ee(l.value):e.options||[],[],{lazy:e.searchableLazy}),X=r(()=>!l.value||ee?G.value:G.value.filter(y=>{var Q;return((Q=e.searchAttributes)!=null&&Q.length?e.searchAttributes:[e.optionAttribute]).some(re=>{if(["string","number"].includes(typeof y))return String(y).search(new RegExp(l.value,"i"))!==-1;const ge=ka(y,re);return ge!=null&&String(ge).search(new RegExp(l.value,"i"))!==-1})})),Be=r(()=>l.value===""||e.showCreateOptionWhen==="empty"&&X.value.length||e.showCreateOptionWhen==="always"&&X.value.find(Q=>["string","number"].includes(typeof Q)?Q===l.value:Q[e.optionAttribute]===l.value)||typeof e.showCreateOptionWhen=="function"&&!e.showCreateOptionWhen(l.value,X.value)?null:["string","number"].includes(typeof e.modelValue)?l.value:{[e.optionAttribute]:l.value});function De(){e.clearSearchOnClose&&(l.value="")}he(b,y=>{y?c("open"):(De(),c("close"),n())});function $e(y){c("update:modelValue",y),c("change",y),t()}function He(y){l.value=y.target.value}return Ve(()=>Ae("$TRWDFq0Heu")),{ui:s,uiMenu:o,attrs:m,name:j,inputId:w,popper:a,trigger:O,container:b,selected:i,label:v,isLeading:k,isTrailing:T,selectClass:h,leadingIconName:q,leadingIconClass:ie,leadingWrapperIconClass:J,trailingIconName:W,trailingIconClass:ue,trailingWrapperIconClass:se,filteredOptions:X,createOption:Be,query:l,onUpdate:$e,onQueryChange:He}}}),Ka=["value","required"],Ya=["id","disabled"],Ja={class:"truncate"};function Xa(e,c,d,s,m,o){const a=Me,O=oe("HComboboxInput"),b=Ie;return f(),H(te(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.multiple?Array.isArray(e.modelValue)?e.modelValue:[]:e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:S(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:D(({open:u})=>[e.required?(f(),R("input",{key:0,value:e.modelValue,required:e.required,class:S(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,Ka)):$("",!0),(f(),H(te(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:S(e.uiMenu.trigger)},{default:D(()=>[E(e.$slots,"default",{open:u,disabled:e.disabled,loading:e.loading},()=>[I("button",x({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(f(),R("span",{key:0,class:S(e.leadingWrapperIconClass)},[E(e.$slots,"leading",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[M(a,{name:e.leadingIconName,class:S(e.leadingIconClass)},null,8,["name","class"])])],2)):$("",!0),E(e.$slots,"label",{selected:e.selected},()=>[e.label?(f(),R("span",{key:0,class:S(e.uiMenu.label)},le(e.label),3)):(f(),R("span",{key:1,class:S(e.uiMenu.label)},le(e.placeholder||"Â "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(f(),R("span",{key:1,class:S(e.trailingWrapperIconClass)},[E(e.$slots,"trailing",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[M(a,{name:e.trailingIconName,class:S(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):$("",!0)],16,Ya)])]),_:2},1032,["class"])),u?(f(),R("div",{key:1,ref:"container",class:S([e.uiMenu.container,e.uiMenu.width])},[M(Ee,x({appear:""},e.uiMenu.transition),{default:D(()=>[I("div",null,[e.popper.arrow?(f(),R("div",{key:0,"data-popper-arrow":"",class:S(Object.values(e.uiMenu.arrow))},null,2)):$("",!0),(f(),H(te(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:S([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:D(()=>{var p,n;return[e.searchable?(f(),H(O,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:S(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):$("",!0),(f(!0),R(Oe,null,Te(e.filteredOptions,(t,w)=>(f(),H(te(e.searchable?"HComboboxOption":"HListboxOption"),{key:w,as:"template",value:e.valueAttribute?t[e.valueAttribute]:t,disabled:t.disabled},{default:D(({active:g,selected:L,disabled:j})=>[I("li",{class:S([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,g?e.uiMenu.option.active:e.uiMenu.option.inactive,L&&e.uiMenu.option.selected,j&&e.uiMenu.option.disabled])},[I("div",{class:S(e.uiMenu.option.container)},[E(e.$slots,"option",{option:t,active:g,selected:L},()=>[t.icon?(f(),H(a,{key:0,name:t.icon,class:S([e.uiMenu.option.icon.base,g?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,t.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):t.avatar?(f(),H(b,x({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...t.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):t.chip?(f(),R("span",{key:2,class:S(e.uiMenu.option.chip.base),style:We({background:`#${t.chip}`})},null,6)):$("",!0),I("span",Ja,le(["string","number"].includes(typeof t)?t:t[e.optionAttribute]),1)])],2),L?(f(),R("span",{key:0,class:S([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[M(a,{name:e.selectedIcon,class:S(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):$("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(f(),H(te(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:D(({active:t,selected:w})=>[I("li",{class:S([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,t?e.uiMenu.option.active:e.uiMenu.option.inactive])},[I("div",{class:S(e.uiMenu.option.container)},[E(e.$slots,"option-create",{option:e.createOption,active:t,selected:w},()=>[I("span",{class:S(e.uiMenu.option.create)},'Create "'+le(e.createOption[e.optionAttribute])+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((p=e.filteredOptions)!=null&&p.length)?(f(),R("p",{key:2,class:S(e.uiMenu.option.empty)},[E(e.$slots,"option-empty",{query:e.query},()=>[ce(' No results for "'+le(e.query)+'". ',1)])],2)):(n=e.filteredOptions)!=null&&n.length?$("",!0):(f(),R("p",{key:3,class:S(e.uiMenu.empty)},[E(e.$slots,"empty",{query:e.query},()=>[ce(" No options. ")])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):$("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const Za=ke(Qa,[["render",Xa]]),xa=fe(N.ui.strategy,N.ui.container,Pa),et=Y({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:c,attrs:d}=ve("container",ne(e,"ui"),xa),s=r(()=>Le(ae(c.value.base,c.value.padding,c.value.constrained),e.class));return{ui:c,attrs:d,containerClass:s}}});function at(e,c,d,s,m,o){return f(),H(te(e.as),x({class:e.containerClass},e.attrs),{default:D(()=>[E(e.$slots,"default")]),_:3},16,["class"])}const tt=ke(et,[["render",at]]),lt={class:"w-full"},nt={class:"flex items-center justify-between pb-4 border-b dark:border-gray-700"},ot={class:"w-full"},it={class:"grid gap-8 md:grid-cols-2"},st={class:""},ut={class:"flex space-x-1.5"},rt=["innerHTML"],dt={class:"space-y-2"},ct={key:0,class:"grid gap-4 sm:grid-cols-2"},pt={key:0},vt={key:1},ft=["src"],_t=Y({__name:"Task",props:{taskId:{},isModal:{type:Boolean,default:!0}},emits:["close"],async setup(e,{emit:c}){let d,s;const m=e,o=U(null);async function a(n){try{const t=await Ba(Qe("os_tasks",n,{fields:["*",{form:["*"],files:[{directus_files_id:["*"]}],assigned_to:["id","first_name","last_name","email","avatar"]}]}));o.value=t}catch{throw Ke({statusCode:404,message:"Task not found"})}}[d,s]=Ra(()=>a(m.taskId)),await d,s();const O=r(()=>{var t;const n=(t=o.value)==null?void 0:t.status;if(n)return b[n]});r(()=>{var n,t;return!(((n=o.value)==null?void 0:n.status)==="completed"||(t=o.value)!=null&&t.form)});const b={pending:{label:"Pending",icon:"i-heroicons-clock-20-solid",color:"gray",sort:1},active:{label:"Up Next",icon:"i-heroicons-play-20-solid",color:"blue",sort:2},in_progress:{label:"In Progress",icon:"i-heroicons-wrench-screwdriver-20-solid",color:"amber",sort:3},in_review:{label:"In Review",icon:"i-heroicons-exclamation-circle-20-solid",color:"orange",sort:4},completed:{label:"Completed",icon:"i-heroicons-check-20-solid",color:"green",sort:5}},u=r(()=>Object.entries(b).filter(([t,w])=>{var g;return t!==((g=o.value)==null?void 0:g.status)}).map(([t,w])=>{var g;return{label:"Mark as "+w.label,value:t,icon:w.icon,disabled:t==="completed"&&((g=o.value)==null?void 0:g.form)}})),p=U();return(n,t)=>{const w=Me,g=Pe,L=Za,j=Ma,C=tt,V=Ia,l=Aa,i=La,v=Ta,h=Va;return f(),R("div",lt,[M(C,{class:"sticky top-0 z-20 py-4 space-y-4 bg-white shadow-lg shadow-white dark:bg-gray-900 backdrop-blur-md dark:shadow-gray-900"},{default:D(()=>{var k;return[I("div",nt,[I("div",ot,[M(L,{modelValue:A(p),"onUpdate:modelValue":t[0]||(t[0]=T=>Ge(p)?p.value=T:null),options:A(u)},{default:D(({open:T})=>{var q,W;return[M(g,{"leading-icon":(q=A(O))==null?void 0:q.icon,color:(W=A(O))==null?void 0:W.color},{default:D(()=>{var J;return[ce(le((J=A(O))==null?void 0:J.label)+" ",1),M(w,{name:"i-heroicons-chevron-right-20-solid",class:S(["w-5 h-5 transition-transform",[T&&"transform rotate-90"]])},null,8,["class"])]}),_:2},1032,["leading-icon","color"])]}),_:1},8,["modelValue","options"])]),I("div",null,[m.isModal?(f(),H(g,{key:0,variant:"ghost",color:"primary","leading-icon":"i-heroicons-x-mark",onClick:t[1]||(t[1]=T=>n.$emit("close"))},{default:D(()=>[ce(" Close ")]),_:1})):$("",!0)])]),(k=A(o))!=null&&k.name?(f(),H(j,{key:0,content:A(o).name,size:"xs"},null,8,["content"])):$("",!0)]}),_:1}),M(C,{class:"pb-12 mt-8 space-y-8"},{default:D(()=>{var k,T,q,W,J,ie,se,ue,ee;return[I("div",it,[I("div",null,[M(V,{label:"Assigned To"}),(k=A(o))!=null&&k.assigned_to?(f(),H(l,{key:0,author:(T=A(o))==null?void 0:T.assigned_to},null,8,["author"])):$("",!0)]),I("div",st,[M(V,{label:"Due Date"}),I("div",ut,[M(i,{date:(q=A(o))==null?void 0:q.due_date,size:"sm"},null,8,["date"])])])]),I("div",null,[M(V,{label:"Description"}),I("div",{class:"prose dark:prose-invert",innerHTML:(W=A(o))==null?void 0:W.description},null,8,rt)]),I("div",dt,[M(V,{label:"Files"}),(J=A(o))!=null&&J.files&&((se=(ie=A(o))==null?void 0:ie.files)==null?void 0:se.length)>0?(f(),R("div",ct,[(f(!0),R(Oe,null,Te(A(o).files,G=>{var X;return f(),H(v,{key:(X=G.directus_files_id)==null?void 0:X.id,file:G.directus_files_id},null,8,["file"])}),128))])):$("",!0)]),(ue=A(o))!=null&&ue.form?(f(),R("div",pt,[M(V,{label:"Form"}),M(h,{form:A(o).form},null,8,["form"])])):$("",!0),(ee=A(o))!=null&&ee.embed_url?(f(),R("div",vt,[M(V,{label:"Embed"}),I("iframe",{src:("transformUrlToIframeSrc"in n?n.transformUrlToIframeSrc:A(Da))(A(o).embed_url),class:"w-full h-[550px] overflow-hidden border border-gray-300 dark:border-gray-700 rounded-panel"},null,8,ft)])):$("",!0)]}),_:1})])}}}),mt=fe(N.ui.strategy,N.ui.slideover,za),bt=Y({components:{HDialog:ga,HDialogPanel:ya,TransitionRoot:$a,TransitionChild:Ha},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},side:{type:String,default:"right",validator:e=>["left","right","top","bottom"].includes(e)},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:c}){const{ui:d,attrs:s}=ve("slideover",ne(e,"ui"),mt,ne(e,"class")),m=r({get(){return e.modelValue},set(u){c("update:modelValue",u)}}),o=r(()=>{if(!e.transition)return{};let u,p;switch(e.side){case"left":u=d.value.translate.left,p=d.value.translate.left;break;case"right":u=d.value.translate.right,p=d.value.translate.right;break;case"top":u=d.value.translate.top,p=d.value.translate.top;break;case"bottom":u=d.value.translate.bottom,p=d.value.translate.bottom;break;default:u=d.value.translate.right,p=d.value.translate.right}return{...d.value.transition,enterFrom:u,enterTo:d.value.translate.base,leaveFrom:d.value.translate.base,leaveTo:p}}),a=r(()=>{switch(e.side){case"left":return"horizontal";case"right":return"horizontal";case"top":return"vertical";case"bottom":return"vertical";default:return"right"}});function O(u){if(e.preventClose){c("close-prevented");return}m.value=u,c("close")}const b=()=>{c("after-leave")};return Ve(()=>Ae("$UHIgTiARN2")),{ui:d,attrs:s,isOpen:m,transitionClass:o,sideType:a,onAfterLeave:b,close:O}}});function gt(e,c,d,s,m,o){const a=oe("TransitionChild"),O=oe("HDialogPanel"),b=oe("HDialog"),u=oe("TransitionRoot");return f(),H(u,{as:"template",appear:e.appear,show:e.isOpen,onAfterLeave:e.onAfterLeave},{default:D(()=>[M(b,x({class:[e.ui.wrapper,{"justify-end":e.side==="right"},{"items-end":e.side==="bottom"}]},e.attrs,{onClose:e.close}),{default:D(()=>[e.overlay?(f(),H(a,x({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:D(()=>[I("div",{class:S([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):$("",!0),M(a,x({as:"template",appear:e.appear},e.transitionClass),{default:D(()=>[M(O,{class:S([e.ui.base,e.sideType==="horizontal"?[e.ui.width,"h-full"]:[e.ui.height,"w-full"],e.ui.background,e.ui.ring,e.ui.padding])},{default:D(()=>[E(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const Et=ke(bt,[["render",gt]]);export{_t as _,Et as a};
