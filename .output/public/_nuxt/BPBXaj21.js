import{_ as Ie}from"./BWVliGJj.js";import{_ as Me}from"./BLRN7I0I.js";import{u as we}from"./BsD3NFIs.js";import{D as B,K as re,ap as N,c as A,d as xe,ah as Q,o as S,m as C,y as k,t as P,j as R,v as F,F as ie,A as ee,g as L,w as X,x as G,z as Z,N as He,i as De,n as Ue,p as ge,q as me,L as oe,ae as ze,af as Ee,s as Ve,H as We,h as Ge,aq as qe,Q as Ye,ar as Qe,as as Xe,at as Je}from"./C1Qq1QLd.js";import{r as Ze,l as et,i as tt,u as nt}from"./BF1h8QGO.js";import{a as Ae}from"./jXwMPzuP.js";import{U as $e}from"./DWctDv8V.js";import{_ as Ce}from"./D9e1F_hZ.js";import{_ as Le}from"./DnFU_lOv.js";import{_ as Oe}from"./DlAUqK2U.js";import{u as st}from"./dCmjBx8L.js";const rt={wrapper:"flex flex-col flex-1 min-h-0 divide-y divide-gray-100 dark:divide-gray-800",container:"relative flex-1 overflow-y-auto divide-y divide-gray-100 dark:divide-gray-800 scroll-py-2",input:{wrapper:"relative flex items-center",base:"w-full placeholder-gray-400 dark:placeholder-gray-500 bg-transparent border-0 text-gray-900 dark:text-white focus:ring-0 focus:outline-none",padding:"px-4",height:"h-12",size:"sm:text-sm",icon:{base:"pointer-events-none absolute start-4 text-gray-400 dark:text-gray-500",loading:"animate-spin",size:"h-5 w-5",padding:"ps-11"},closeButton:{base:"absolute end-4",padding:"pe-10"}},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",queryLabel:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},group:{wrapper:"p-2",label:"px-2.5 my-2 text-xs font-semibold text-gray-900 dark:text-white",container:"text-sm text-gray-700 dark:text-gray-200",command:{base:"flex justify-between select-none items-center rounded-md px-2.5 py-1.5 gap-2 relative",active:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactive:"",label:"flex items-center gap-1.5 min-w-0",prefix:"text-gray-400 dark:text-gray-500",suffix:"text-gray-400 dark:text-gray-500",container:"flex items-center gap-1.5 min-w-0",icon:{base:"flex-shrink-0 w-5 h-5",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{base:"h-5 w-5 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"2xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"},disabled:"opacity-50",shortcuts:"hidden md:inline-flex flex-shrink-0 gap-0.5"},active:"flex-shrink-0 text-gray-500 dark:text-gray-400",inactive:"flex-shrink-0 text-gray-500 dark:text-gray-400"},default:{icon:"i-heroicons-magnifying-glass-20-solid",loadingIcon:"i-heroicons-arrow-path-20-solid",emptyState:{icon:"i-heroicons-magnifying-glass-20-solid",label:"We couldn't find any items.",queryLabel:"We couldn't find any items with that term. Please try again."},closeButton:null,selectedIcon:"i-heroicons-check-20-solid"}};function K(e){return Array.isArray?Array.isArray(e):_e(e)==="[object Array]"}const it=1/0;function ot(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-it?"-0":t}function at(e){return e==null?"":ot(e)}function _(e){return typeof e=="string"}function Ne(e){return typeof e=="number"}function ct(e){return e===!0||e===!1||lt(e)&&_e(e)=="[object Boolean]"}function Re(e){return typeof e=="object"}function lt(e){return Re(e)&&e!==null}function $(e){return e!=null}function se(e){return!e.trim().length}function _e(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const ut="Incorrect 'index' type",ht=e=>`Invalid value for key ${e}`,dt=e=>`Pattern length exceeds max of ${e}.`,ft=e=>`Missing ${e} property in key`,pt=e=>`Property 'weight' in key '${e}' must be a positive integer`,ye=Object.prototype.hasOwnProperty;class gt{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let i=Ke(s);n+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ke(e){let t=null,n=null,s=null,i=1,r=null;if(_(e)||K(e))s=e,t=be(e),n=ae(e);else{if(!ye.call(e,"name"))throw new Error(ft("name"));const o=e.name;if(s=o,ye.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(pt(o));t=be(o),n=ae(o),r=e.getFn}return{path:t,id:n,weight:i,src:s,getFn:r}}function be(e){return K(e)?e:e.split(".")}function ae(e){return K(e)?e.join("."):e}function mt(e,t){let n=[],s=!1;const i=(r,o,l)=>{if($(r))if(!o[l])n.push(r);else{let u=o[l];const c=r[u];if(!$(c))return;if(l===o.length-1&&(_(c)||Ne(c)||ct(c)))n.push(at(c));else if(K(c)){s=!0;for(let a=0,h=c.length;a<h;a+=1)i(c[a],o,l+1)}else o.length&&i(c,o,l+1)}};return i(e,_(t)?t.split("."):t,0),s?n:n[0]}const yt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},bt={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},vt={location:0,threshold:.6,distance:100},St={useExtendedSearch:!1,getFn:mt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var f={...bt,...yt,...vt,...St};const kt=/[^ ]+/g;function It(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(i){const r=i.match(kt).length;if(n.has(r))return n.get(r);const o=1/Math.pow(r,.5*e),l=parseFloat(Math.round(o*s)/s);return n.set(r,l),l},clear(){n.clear()}}}class fe{constructor({getFn:t=f.getFn,fieldNormWeight:n=f.fieldNormWeight}={}){this.norm=It(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,_(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();_(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!$(t)||se(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((i,r)=>{let o=i.getFn?i.getFn(t):this.getFn(t,i.path);if($(o)){if(K(o)){let l=[];const u=[{nestedArrIndex:-1,value:o}];for(;u.length;){const{nestedArrIndex:c,value:a}=u.pop();if($(a))if(_(a)&&!se(a)){let h={v:a,i:c,n:this.norm.get(a)};l.push(h)}else K(a)&&a.forEach((h,d)=>{u.push({nestedArrIndex:d,value:h})})}s.$[r]=l}else if(_(o)&&!se(o)){let l={v:o,n:this.norm.get(o)};s.$[r]=l}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function je(e,t,{getFn:n=f.getFn,fieldNormWeight:s=f.fieldNormWeight}={}){const i=new fe({getFn:n,fieldNormWeight:s});return i.setKeys(e.map(Ke)),i.setSources(t),i.create(),i}function Mt(e,{getFn:t=f.getFn,fieldNormWeight:n=f.fieldNormWeight}={}){const{keys:s,records:i}=e,r=new fe({getFn:t,fieldNormWeight:n});return r.setKeys(s),r.setIndexRecords(i),r}function J(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:i=f.distance,ignoreLocation:r=f.ignoreLocation}={}){const o=t/e.length;if(r)return o;const l=Math.abs(s-n);return i?o+l/i:l?1:o}function wt(e=[],t=f.minMatchCharLength){let n=[],s=-1,i=-1,r=0;for(let o=e.length;r<o;r+=1){let l=e[r];l&&s===-1?s=r:!l&&s!==-1&&(i=r-1,i-s+1>=t&&n.push([s,i]),s=-1)}return e[r-1]&&r-s>=t&&n.push([s,r-1]),n}const U=32;function xt(e,t,n,{location:s=f.location,distance:i=f.distance,threshold:r=f.threshold,findAllMatches:o=f.findAllMatches,minMatchCharLength:l=f.minMatchCharLength,includeMatches:u=f.includeMatches,ignoreLocation:c=f.ignoreLocation}={}){if(t.length>U)throw new Error(dt(U));const a=t.length,h=e.length,d=Math.max(0,Math.min(s,h));let p=r,m=d;const y=l>1||u,w=y?Array(h):[];let x;for(;(x=e.indexOf(t,m))>-1;){let g=J(t,{currentLocation:x,expectedLocation:d,distance:i,ignoreLocation:c});if(p=Math.min(g,p),m=x+a,y){let b=0;for(;b<a;)w[x+b]=1,b+=1}}m=-1;let j=[],O=1,z=a+h;const ne=1<<a-1;for(let g=0;g<a;g+=1){let b=0,I=z;for(;b<I;)J(t,{errors:g,currentLocation:d+I,expectedLocation:d,distance:i,ignoreLocation:c})<=p?b=I:z=I,I=Math.floor((z-b)/2+b);z=I;let V=Math.max(1,d-I+1),v=o?h:Math.min(d+I,h)+a,M=Array(v+2);M[v+1]=(1<<g)-1;for(let E=v;E>=V;E-=1){let D=E-1,pe=n[e.charAt(D)];if(y&&(w[D]=+!!pe),M[E]=(M[E+1]<<1|1)&pe,g&&(M[E]|=(j[E+1]|j[E])<<1|1|j[E+1]),M[E]&ne&&(O=J(t,{errors:g,currentLocation:D,expectedLocation:d,distance:i,ignoreLocation:c}),O<=p)){if(p=O,m=D,m<=d)break;V=Math.max(1,2*d-m)}}if(J(t,{errors:g+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:c})>p)break;j=M}const Y={isMatch:m>=0,score:Math.max(.001,O)};if(y){const g=wt(w,l);g.length?u&&(Y.indices=g):Y.isMatch=!1}return Y}function Et(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<s-n-1}return t}class Te{constructor(t,{location:n=f.location,threshold:s=f.threshold,distance:i=f.distance,includeMatches:r=f.includeMatches,findAllMatches:o=f.findAllMatches,minMatchCharLength:l=f.minMatchCharLength,isCaseSensitive:u=f.isCaseSensitive,ignoreLocation:c=f.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c},this.pattern=u?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const a=(d,p)=>{this.chunks.push({pattern:d,alphabet:Et(d),startIndex:p})},h=this.pattern.length;if(h>U){let d=0;const p=h%U,m=h-p;for(;d<m;)a(this.pattern.substr(d,U),d),d+=U;if(p){const y=h-U;a(this.pattern.substr(y),y)}}else a(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:s}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let m={isMatch:!0,score:0};return s&&(m.indices=[[0,t.length-1]]),m}const{location:i,distance:r,threshold:o,findAllMatches:l,minMatchCharLength:u,ignoreLocation:c}=this.options;let a=[],h=0,d=!1;this.chunks.forEach(({pattern:m,alphabet:y,startIndex:w})=>{const{isMatch:x,score:j,indices:O}=xt(t,m,y,{location:i+w,distance:r,threshold:o,findAllMatches:l,minMatchCharLength:u,includeMatches:s,ignoreLocation:c});x&&(d=!0),h+=j,x&&O&&(a=[...a,...O])});let p={isMatch:d,score:d?h/this.chunks.length:1};return d&&s&&(p.indices=a),p}}class H{constructor(t){this.pattern=t}static isMultiMatch(t){return ve(t,this.multiRegex)}static isSingleMatch(t){return ve(t,this.singleRegex)}search(){}}function ve(e,t){const n=e.match(t);return n?n[1]:null}class At extends H{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class $t extends H{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class Ct extends H{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Lt extends H{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Ot extends H{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Nt extends H{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Pe extends H{constructor(t,{location:n=f.location,threshold:s=f.threshold,distance:i=f.distance,includeMatches:r=f.includeMatches,findAllMatches:o=f.findAllMatches,minMatchCharLength:l=f.minMatchCharLength,isCaseSensitive:u=f.isCaseSensitive,ignoreLocation:c=f.ignoreLocation}={}){super(t),this._bitapSearch=new Te(t,{location:n,threshold:s,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Be extends H{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const i=[],r=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+r,i.push([s,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const ce=[At,Be,Ct,Lt,Nt,Ot,$t,Pe],Se=ce.length,Rt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,_t="|";function Kt(e,t={}){return e.split(_t).map(n=>{let s=n.trim().split(Rt).filter(r=>r&&!!r.trim()),i=[];for(let r=0,o=s.length;r<o;r+=1){const l=s[r];let u=!1,c=-1;for(;!u&&++c<Se;){const a=ce[c];let h=a.isMultiMatch(l);h&&(i.push(new a(h,t)),u=!0)}if(!u)for(c=-1;++c<Se;){const a=ce[c];let h=a.isSingleMatch(l);if(h){i.push(new a(h,t));break}}}return i})}const jt=new Set([Pe.type,Be.type]);class Tt{constructor(t,{isCaseSensitive:n=f.isCaseSensitive,includeMatches:s=f.includeMatches,minMatchCharLength:i=f.minMatchCharLength,ignoreLocation:r=f.ignoreLocation,findAllMatches:o=f.findAllMatches,location:l=f.location,threshold:u=f.threshold,distance:c=f.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:s,minMatchCharLength:i,findAllMatches:o,ignoreLocation:r,location:l,threshold:u,distance:c},this.pattern=n?t:t.toLowerCase(),this.query=Kt(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let r=0,o=[],l=0;for(let u=0,c=n.length;u<c;u+=1){const a=n[u];o.length=0,r=0;for(let h=0,d=a.length;h<d;h+=1){const p=a[h],{isMatch:m,indices:y,score:w}=p.search(t);if(m){if(r+=1,l+=w,s){const x=p.constructor.type;jt.has(x)?o=[...o,...y]:o.push(y)}}else{l=0,r=0,o.length=0;break}}if(r){let h={isMatch:!0,score:l/r};return s&&(h.indices=o),h}}return{isMatch:!1,score:1}}}const le=[];function Pt(...e){le.push(...e)}function ue(e,t){for(let n=0,s=le.length;n<s;n+=1){let i=le[n];if(i.condition(e,t))return new i(e,t)}return new Te(e,t)}const te={AND:"$and",OR:"$or"},he={PATH:"$path",PATTERN:"$val"},de=e=>!!(e[te.AND]||e[te.OR]),Bt=e=>!!e[he.PATH],Ft=e=>!K(e)&&Re(e)&&!de(e),ke=e=>({[te.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Fe(e,t,{auto:n=!0}={}){const s=i=>{let r=Object.keys(i);const o=Bt(i);if(!o&&r.length>1&&!de(i))return s(ke(i));if(Ft(i)){const u=o?i[he.PATH]:r[0],c=o?i[he.PATTERN]:i[u];if(!_(c))throw new Error(ht(u));const a={keyId:ae(u),pattern:c};return n&&(a.searcher=ue(c,t)),a}let l={children:[],operator:r[0]};return r.forEach(u=>{const c=i[u];K(c)&&c.forEach(a=>{l.children.push(s(a))})}),l};return de(e)||(e=ke(e)),s(e)}function Ht(e,{ignoreFieldNorm:t=f.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:i,norm:r,score:o})=>{const l=i?i.weight:null;s*=Math.pow(o===0&&l?Number.EPSILON:o,(l||1)*(t?1:r))}),n.score=s})}function Dt(e,t){const n=e.matches;t.matches=[],$(n)&&n.forEach(s=>{if(!$(s.indices)||!s.indices.length)return;const{indices:i,value:r}=s;let o={indices:i,value:r};s.key&&(o.key=s.key.src),s.idx>-1&&(o.refIndex=s.idx),t.matches.push(o)})}function Ut(e,t){t.score=e.score}function zt(e,t,{includeMatches:n=f.includeMatches,includeScore:s=f.includeScore}={}){const i=[];return n&&i.push(Dt),s&&i.push(Ut),e.map(r=>{const{idx:o}=r,l={item:t[o],refIndex:o};return i.length&&i.forEach(u=>{u(r,l)}),l})}class q{constructor(t,n={},s){this.options={...f,...n},this.options.useExtendedSearch,this._keyStore=new gt(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof fe))throw new Error(ut);this._myIndex=n||je(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){$(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,i=this._docs.length;s<i;s+=1){const r=this._docs[s];t(r,s)&&(this.removeAt(s),s-=1,i-=1,n.push(r))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:i,shouldSort:r,sortFn:o,ignoreFieldNorm:l}=this.options;let u=_(t)?_(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Ht(u,{ignoreFieldNorm:l}),r&&u.sort(o),Ne(n)&&n>-1&&(u=u.slice(0,n)),zt(u,this._docs,{includeMatches:s,includeScore:i})}_searchStringList(t){const n=ue(t,this.options),{records:s}=this._myIndex,i=[];return s.forEach(({v:r,i:o,n:l})=>{if(!$(r))return;const{isMatch:u,score:c,indices:a}=n.searchIn(r);u&&i.push({item:r,idx:o,matches:[{score:c,value:r,norm:l,indices:a}]})}),i}_searchLogical(t){const n=Fe(t,this.options),s=(l,u,c)=>{if(!l.children){const{keyId:h,searcher:d}=l,p=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(u,h),searcher:d});return p&&p.length?[{idx:c,item:u,matches:p}]:[]}const a=[];for(let h=0,d=l.children.length;h<d;h+=1){const p=l.children[h],m=s(p,u,c);if(m.length)a.push(...m);else if(l.operator===te.AND)return[]}return a},i=this._myIndex.records,r={},o=[];return i.forEach(({$:l,i:u})=>{if($(l)){let c=s(n,l,u);c.length&&(r[u]||(r[u]={idx:u,item:l,matches:[]},o.push(r[u])),c.forEach(({matches:a})=>{r[u].matches.push(...a)}))}}),o}_searchObjectList(t){const n=ue(t,this.options),{keys:s,records:i}=this._myIndex,r=[];return i.forEach(({$:o,i:l})=>{if(!$(o))return;let u=[];s.forEach((c,a)=>{u.push(...this._findMatches({key:c,value:o[a],searcher:n}))}),u.length&&r.push({idx:l,item:o,matches:u})}),r}_findMatches({key:t,value:n,searcher:s}){if(!$(n))return[];let i=[];if(K(n))n.forEach(({v:r,i:o,n:l})=>{if(!$(r))return;const{isMatch:u,score:c,indices:a}=s.searchIn(r);u&&i.push({score:c,key:t,value:r,idx:o,norm:l,indices:a})});else{const{v:r,n:o}=n,{isMatch:l,score:u,indices:c}=s.searchIn(r);l&&i.push({score:u,key:t,value:r,norm:o,indices:c})}return i}}q.version="6.6.2";q.createIndex=je;q.parseIndex=Mt;q.config=f;q.parseQuery=Fe;Pt(Tt);function Vt(e,t,n){const s=()=>{var o,l;return new q((o=N(t))!=null?o:[],(l=N(n))==null?void 0:l.fuseOptions)},i=B(s());re(()=>{var o;return(o=N(n))==null?void 0:o.fuseOptions},()=>{i.value=s()},{deep:!0}),re(()=>N(t),o=>{i.value.setCollection(o)},{deep:!0});const r=A(()=>{const o=N(n);if(o!=null&&o.matchAllWhenSearchEmpty&&!N(e))return N(t).map((u,c)=>({item:u,refIndex:c}));const l=o==null?void 0:o.resultLimit;return i.value.search(N(e),l?{limit:l}:void 0)});return{fuse:i,results:r}}const Wt=xe({components:{HComboboxOption:Ze,UIcon:$e,UAvatar:Ce,UKbd:Le},props:{group:{type:Object,required:!0},query:{type:String,default:""},groupAttribute:{type:String,required:!0},commandAttribute:{type:String,required:!0},selectedIcon:{type:String,required:!0},ui:{type:Object,required:!0}},setup(e){const t=A(()=>{const s=e.group[e.groupAttribute];return typeof s=="function"?s(e.query):s});function n(s,{indices:i,value:r}){if(s===r)return"";let o="",l=0;i.forEach(c=>{const a=c[1]+1,h=a-c[0]>=e.query.length;o+=[r.substring(l,c[0]),h&&"<mark>",r.substring(c[0],a),h&&"</mark>"].filter(Boolean).join(""),l=a}),o+=r.substring(l);const u=o.indexOf("<mark>");return u>60&&(o=`...${o.substring(u-60)}`),o}return Ae(()=>we("$g2gpoPdXk0")),{label:t,highlight:n}}}),Gt=["aria-label"],qt=["innerHTML"];function Yt(e,t,n,s,i,r){const o=Ie,l=Ce,u=Le,c=Q("HComboboxOption");return S(),C("div",{class:k(e.ui.group.wrapper)},[e.label?(S(),C("h2",{key:0,class:k(e.ui.group.label)},P(e.label),3)):R("",!0),F("div",{class:k(e.ui.group.container),"aria-label":e.group[e.groupAttribute]},[(S(!0),C(ie,null,ee(e.group.commands,(a,h)=>(S(),L(c,{key:`${e.group.key}-${h}`,value:a,disabled:a.disabled,as:"template"},{default:X(({active:d,selected:p})=>[F("div",{class:k([e.ui.group.command.base,d?e.ui.group.command.active:e.ui.group.command.inactive,a.disabled?"cursor-not-allowed":"cursor-pointer"])},[F("div",{class:k(e.ui.group.command.container)},[G(e.$slots,`${e.group.key}-icon`,{group:e.group,command:a,active:d,selected:p},()=>[a.icon?(S(),L(o,{key:0,name:a.icon,class:k([e.ui.group.command.icon.base,d?e.ui.group.command.icon.active:e.ui.group.command.icon.inactive,a.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):a.avatar?(S(),L(l,Z({key:1,ref_for:!0},{size:e.ui.group.command.avatar.size,...a.avatar},{class:e.ui.group.command.avatar.base,"aria-hidden":"true"}),null,16,["class"])):a.chip?(S(),C("span",{key:2,class:k(e.ui.group.command.chip.base),style:He({background:`#${a.chip}`})},null,6)):R("",!0)]),F("div",{class:k([e.ui.group.command.label,a.disabled&&e.ui.group.command.disabled])},[G(e.$slots,`${e.group.key}-command`,{group:e.group,command:a,active:d,selected:p},()=>{var m,y;return[a.prefix?(S(),C("span",{key:0,class:k(["flex-shrink-0",a.prefixClass||e.ui.group.command.prefix])},P(a.prefix),3)):R("",!0),F("span",{class:k(["truncate",{"flex-none":a.suffix||((m=a.matches)==null?void 0:m.length)}])},P(a[e.commandAttribute]),3),(y=a.matches)!=null&&y.length?(S(),C("span",{key:1,class:k(["truncate",a.suffixClass||e.ui.group.command.suffix]),innerHTML:e.highlight(a[e.commandAttribute],a.matches[0])},null,10,qt)):a.suffix?(S(),C("span",{key:2,class:k(["truncate",a.suffixClass||e.ui.group.command.suffix])},P(a.suffix),3)):R("",!0)]})],2)],2),p?(S(),L(o,{key:0,name:e.selectedIcon,class:k(e.ui.group.command.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])):d&&(e.group.active||e.$slots[`${e.group.key}-active`])?G(e.$slots,`${e.group.key}-active`,{key:1,group:e.group,command:a,active:d,selected:p},()=>[e.group.active?(S(),C("span",{key:0,class:k(e.ui.group.active)},P(e.group.active),3)):R("",!0)]):G(e.$slots,`${e.group.key}-inactive`,{key:2,group:e.group,command:a,active:d,selected:p},()=>{var m;return[(m=a.shortcuts)!=null&&m.length?(S(),C("span",{key:0,class:k(e.ui.group.command.shortcuts)},[(S(!0),C(ie,null,ee(a.shortcuts,y=>(S(),L(u,{key:y},{default:X(()=>[De(P(y),1)]),_:2},1024))),128))],2)):!a.disabled&&e.group.inactive?(S(),C("span",{key:1,class:k(e.ui.group.inactive)},P(e.group.inactive),3)):R("",!0)]})],2)]),_:2},1032,["value","disabled"]))),128))],10,Gt)],2)}const Qt=Oe(Wt,[["render",Yt]]),W=Ue(ge.ui.strategy,ge.ui.commandPalette,rt),Xt=xe({components:{HCombobox:et,HComboboxInput:tt,HComboboxOptions:nt,UIcon:$e,UButton:Me,CommandPaletteGroup:Qt},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:null},by:{type:String,default:"id"},multiple:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},groups:{type:Array,default:()=>[]},icon:{type:String,default:()=>W.default.icon},loadingIcon:{type:String,default:()=>W.default.loadingIcon},selectedIcon:{type:String,default:()=>W.default.selectedIcon},closeButton:{type:Object,default:()=>W.default.closeButton},emptyState:{type:Object,default:()=>W.default.emptyState},placeholder:{type:String,default:"Search..."},groupAttribute:{type:String,default:"label"},commandAttribute:{type:String,default:"label"},autoselect:{type:Boolean,default:!0},autoclear:{type:Boolean,default:!0},debounce:{type:Number,default:200},fuse:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:t,expose:n}){const{ui:s,attrs:i}=st("commandPalette",me(e,"ui"),W,me(e,"class")),r=B(""),o=B(),l=B(null),u=B(!1);oe(()=>{e.autoselect&&z()}),oe(()=>{setTimeout(()=>{var I;const g=(I=o.value)==null?void 0:I.$.provides;if(!g)return;const b=Object.getOwnPropertySymbols(g);l.value=b.length&&g[b[0]]},200)});const c=A(()=>ze({},e.fuse,{fuseOptions:{keys:[e.commandAttribute]},resultLimit:12,matchAllWhenSearchEmpty:!0})),a=A(()=>{var b;const g=[];for(const I of e.groups)!I.search&&!I.static&&g.push(...((b=I.commands)==null?void 0:b.map(V=>({...V,group:I.key})))||[]);return g}),h=B({}),{results:d}=Vt(r,a,c);function p(g,b){if(g)return g.filter&&typeof g.filter=="function"&&(b=g.filter(r.value,b)),{...g,commands:b.slice(0,c.value.resultLimit)}}const m=A(()=>{if(!d.value)return[];const g=d.value.reduce((v,M)=>{var D;const{item:T,...E}=M;return T.group&&(v[D=T.group]||(v[D]=[]),v[T.group].push({...T,...E})),v},{}),b=Object.entries(g).map(([v,M])=>{const T=e.groups.find(E=>E.key===v);return T?p(T,M):null}).filter(Boolean),I=e.groups.filter(v=>{var M;return!!v.search&&((M=h.value[v.key])==null?void 0:M.length)}).map(v=>{const M=h.value[v.key]||[];return p(v,[...M])}),V=e.groups.filter(v=>{var M;return v.static&&((M=v.commands)==null?void 0:M.length)}).map(v=>p(v,v.commands));return[...b,...I,...V]}),y=Ee(async()=>{const g=e.groups.filter(b=>!!b.search);g.length&&(u.value=!0,await Promise.all(g.map(async b=>{h.value[b.key]=await b.search(r.value)})),u.value=!1,O())},e.debounce);re(r,()=>{y(),O()});const w=A(()=>(e.loading||u.value)&&e.loadingIcon?e.loadingIcon:e.icon),x=A(()=>Ve(s.value.input.icon.base,s.value.input.icon.size,(e.loading||u.value)&&e.loadingIcon&&s.value.input.icon.loading)),j=A(()=>e.emptyState===null?null:{...s.value.default.emptyState,...e.emptyState});function O(){setTimeout(()=>{var g;(g=o.value)==null||g.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))},0)}function z(){setTimeout(()=>{var g;(g=o.value)==null||g.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"}))},0)}function ne(g){t("update:modelValue",g,{query:r.value}),e.autoclear&&setTimeout(()=>{r.value=""},0)}function Y(){r.value?r.value="":t("close")}return n({query:r,updateQuery:g=>{r.value=g},comboboxApi:l,results:d}),Ae(()=>we("$c30TGRqyue")),{ui:s,attrs:i,groups:m,comboboxInput:o,query:r,iconName:w,iconClass:x,emptyState:j,onSelect:ne,onClear:Y}}});function Jt(e,t,n,s,i,r){const o=Ie,l=Q("HComboboxInput"),u=Me,c=Q("CommandPaletteGroup"),a=Q("HComboboxOptions"),h=Q("HCombobox");return S(),L(h,Z({by:e.by,"model-value":e.modelValue,multiple:e.multiple,nullable:e.nullable,class:e.ui.wrapper},e.attrs,{as:"div","onUpdate:modelValue":e.onSelect}),{default:X(()=>[We(F("div",{class:k(e.ui.input.wrapper)},[e.iconName?(S(),L(o,{key:0,name:e.iconName,class:k(e.iconClass),"aria-hidden":"true"},null,8,["name","class"])):R("",!0),Ge(l,{ref:"comboboxInput",value:e.query,class:k([e.ui.input.base,e.ui.input.size,e.ui.input.height,e.ui.input.padding,e.icon&&e.ui.input.icon.padding,e.closeButton&&e.ui.input.closeButton.padding]),placeholder:e.placeholder,"aria-label":e.placeholder,autocomplete:"off",onChange:t[0]||(t[0]=d=>e.query=d.target.value)},null,8,["value","class","placeholder","aria-label"]),e.closeButton?(S(),L(u,Z({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{class:e.ui.input.closeButton.base,onClick:e.onClear}),null,16,["class","onClick"])):R("",!0)],2),[[qe,e.searchable]]),e.groups.length?(S(),L(a,{key:0,static:"",hold:"",as:"div","aria-label":"Commands",class:k(e.ui.container)},{default:X(()=>[(S(!0),C(ie,null,ee(e.groups,d=>(S(),L(c,{key:d.key,query:e.query,group:d,"group-attribute":e.groupAttribute,"command-attribute":e.commandAttribute,"selected-icon":e.selectedIcon,ui:e.ui},Ye({_:2},[ee(e.$slots,(p,m)=>({name:m,fn:X(y=>[G(e.$slots,m,Z({ref_for:!0},y))])}))]),1032,["query","group","group-attribute","command-attribute","selected-icon","ui"]))),128))]),_:3},8,["class"])):e.emptyState?G(e.$slots,"empty-state",{key:1},()=>[F("div",{class:k(e.ui.emptyState.wrapper)},[e.emptyState.icon?(S(),L(o,{key:0,name:e.emptyState.icon,class:k(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):R("",!0),F("p",{class:k(e.query?e.ui.emptyState.queryLabel:e.ui.emptyState.label)},P(e.query?e.emptyState.queryLabel:e.emptyState.label),3)],2)]):R("",!0)]),_:3},16,["by","model-value","multiple","nullable","class","onUpdate:modelValue"])}const yn=Oe(Xt,[["render",Jt]]);function Zt(...e){return A(()=>e.every(t=>N(t)))}function en(e){return A(()=>!N(e))}const tn=()=>{const e=A(()=>navigator&&navigator.userAgent&&navigator.userAgent.match(/Macintosh;/)),t=B(" "),n=Xe(),s=A(()=>{var l,u,c;const i=(l=n.value)==null?void 0:l.tagName,r=(u=n.value)==null?void 0:u.contentEditable;return i==="INPUT"||i==="TEXTAREA"||r==="true"||r==="plaintext-only"?((c=n.value)==null?void 0:c.name)||!0:!1});return oe(()=>{t.value=e.value?"⌘":"Ctrl"}),{macOS:e,metaSymbol:t,activeElement:n,usingInput:s}},nn=Qe(tn),sn=/^[^-]+.*-.*[^-]+$/,rn=/^[^_]+.*_.*[^_]+$/,bn=(e,t={})=>{const{macOS:n,usingInput:s}=nn();let i=[];const r=B([]),o=()=>{r.value.splice(0,r.value.length)},l=Ee(o,t.chainDelay??800),u=c=>{if(!c.key)return;const a=/^[a-z]{1}$/i.test(c.key);let h;if(r.value.push(c.key),r.value.length>=2){h=r.value.slice(-2).join("-");for(const d of i.filter(p=>p.chained))if(d.key===h){d.condition.value&&(c.preventDefault(),d.handler()),o();return}}for(const d of i.filter(p=>!p.chained))if(c.key.toLowerCase()===d.key&&c.metaKey===d.metaKey&&c.ctrlKey===d.ctrlKey&&!(a&&c.shiftKey!==d.shiftKey)){d.condition.value&&(c.preventDefault(),d.handler()),o();return}l()};i=Object.entries(e).map(([c,a])=>{var m,y;if(!a)return null;let h;c.includes("-")&&c!=="-"&&!((m=c.match(sn))!=null&&m.length)&&console.trace(`[Shortcut] Invalid key: "${c}"`),c.includes("_")&&c!=="_"&&!((y=c.match(rn))!=null&&y.length)&&console.trace(`[Shortcut] Invalid key: "${c}"`);const d=c.includes("-")&&c!=="-";if(d)h={key:c.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const w=c.toLowerCase().split("_").map(x=>x);h={key:w.filter(x=>!["meta","ctrl","shift","alt"].includes(x)).join("_"),metaKey:w.includes("meta"),ctrlKey:w.includes("ctrl"),shiftKey:w.includes("shift"),altKey:w.includes("alt")}}if(h.chained=d,!n.value&&h.metaKey&&!h.ctrlKey&&(h.metaKey=!1,h.ctrlKey=!0),typeof a=="function"?h.handler=a:typeof a=="object"&&(h={...h,handler:a.handler}),!h.handler)return console.trace("[Shortcut] Invalid value"),null;const p=[];return a.usingInput?typeof a.usingInput=="string"&&p.push(A(()=>s.value===a.usingInput)):p.push(en(s)),h.condition=Zt(...p,...a.whenever||[]),h}).filter(Boolean),Je("keydown",u)};export{yn as _,bn as d};
